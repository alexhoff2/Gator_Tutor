<!-- partials/scripts.ejs -->
<script>
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // Animate skill bars on scroll
    function animateSkillBars() {
        const skillBars = document.querySelectorAll('.skill-progress');
        skillBars.forEach(bar => {
            const barTop = bar.getBoundingClientRect().top;
            if (barTop < window.innerHeight) {
                bar.style.width = bar.parentElement.getAttribute('data-progress') + '%';
            }
        });
    }
    window.addEventListener('scroll', animateSkillBars);
    animateSkillBars(); // Initial call

    // Typing animation
    const typingText = document.getElementById('typing-text');
    const textArray = typingText.textContent.split(' | ');
    let textIndex = 0;
    let charIndex = 0;
    typingText.textContent = '';

    function type() {
        if (charIndex < textArray[textIndex].length) {
            typingText.textContent += textArray[textIndex].charAt(charIndex);
            charIndex++;
            setTimeout(type, 100);
        } else {
            setTimeout(erase, 2000);
        }
    }

    function erase() {
        if (charIndex > 0) {
            typingText.textContent = textArray[textIndex].substring(0, charIndex - 1);
            charIndex--;
            setTimeout(erase, 50);
        } else {
            textIndex = (textIndex + 1) % textArray.length;
            setTimeout(type, 1000);
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(type, 1000);
    });
</script>